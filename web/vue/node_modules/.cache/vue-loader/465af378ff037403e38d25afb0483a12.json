{"remainingRequest":"/Users/adr/Library/Mobile Documents/com~apple~CloudDocs/gekko/web/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/adr/Library/Mobile Documents/com~apple~CloudDocs/gekko/web/vue/src/components/global/configbuilder/rangecreator.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"/Users/adr/Library/Mobile Documents/com~apple~CloudDocs/gekko/web/vue/src/components/global/configbuilder/rangecreator.vue","mtime":1569604667000},{"path":"/Users/adr/Library/Mobile Documents/com~apple~CloudDocs/gekko/web/vue/node_modules/css-loader/index.js","mtime":1569708697000},{"path":"/Users/adr/Library/Mobile Documents/com~apple~CloudDocs/gekko/web/vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1521907989000},{"path":"/Users/adr/Library/Mobile Documents/com~apple~CloudDocs/gekko/web/vue/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/adr/Library/Mobile Documents/com~apple~CloudDocs/gekko/web/vue/node_modules/cache-loader/dist/cjs.js","mtime":1569708698000},{"path":"/Users/adr/Library/Mobile Documents/com~apple~CloudDocs/gekko/web/vue/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.scan-btn {\n  margin-top: 80px;\n  margin-bottom: 30px;\n}\n\n.radio label {\n  margin-top: 0;\n}\n\n",{"version":3,"sources":["rangecreator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"rangecreator.vue","sourceRoot":"src/components/global/configbuilder","sourcesContent":["<template lang='pug'>\ndiv\n  h3 Daterange\n  div\n    label(for='from') From\n    input(v-model='from')\n  div\n    label(for='to') To\n    input(v-model='to')\n</template>\n\n<script>\n\nimport _ from 'lodash'\nimport { post } from '../../../tools/ajax'\n// global moment\n\nexport default {\n  data: function() {\n    return {\n      from: '',\n      to: ''\n    }\n  },\n  created: function() {\n    let now = moment().startOf('minute');\n    let then = now.clone().subtract(3, 'months');\n\n    this.to = this.fmt(now);\n    this.from = this.fmt(then);\n    this.emitRange();\n  },\n  methods: {\n    fmtTs: (mom) => moment.unix(mom).utc(),\n    fmt: (mom) => mom.utc().format('YYYY-MM-DD HH:mm'),\n    emitRange: function() {\n      this.$emit('range', {\n        from: this.fmtTs(this.from),\n        to: this.fmtTs(this.to)\n      });\n    },\n    emitManualEntry: function() {\n      if(this.from.length < '4' || this.from.length < '4')\n        return this.$emit('range', {})\n\n      let from = moment.utc(this.from);\n      let to = moment.utc(this.to);\n\n      if(from.isValid() && to.isValid()) {\n        this.$emit('range', {\n          from: this.fmt(from),\n          to: this.fmt(to)\n        })\n      } else {\n        this.$emit('range', {})\n      }\n    }\n  },\n  watch: {\n    from: function() {\n      this.emitManualEntry();\n    },\n    to: function() {\n      this.emitManualEntry();\n    },\n    config: function() {\n      this.scanned = false;\n    },\n    tab: function() {\n      this.scanned = false;\n      this.$emit('range', {})\n    },\n    selectedRangeIndex: function() {\n      let selectedRange = this.ranges[this.selectedRangeIndex];\n      if(selectedRange)\n        this.emitRange(selectedRange);\n    }\n  }\n}\n</script>\n\n<style>\n\n.scan-btn {\n  margin-top: 80px;\n  margin-bottom: 30px;\n}\n\n.radio label {\n  margin-top: 0;\n}\n\n</style>\n"]}]}